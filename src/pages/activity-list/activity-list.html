<!--
  Generated template for the ActivityList page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header no-border>
  <ion-searchbar (ionInput)="getActsBySearch($event)"></ion-searchbar>
</ion-header>
<ion-content>
  <ion-spinner name="dots" *ngIf="isLoadingActs"></ion-spinner>
  <ion-row class="activity-container">
    <ion-col>
      <ion-content>
        <ion-item *ngFor="let activity of displayActs" (click)="setCurrentActivity(activity)" [ngClass]="{'current-activity':activity.isActive}">
          <!-- <ion-card-header> -->
          {{activity["ACTDES"]}}
          <ion-note>{{activity["WBS"]}}</ion-note>
          <ion-badge item-end>{{activity.subActivities.length>0? activity.subActivities.length : ""}}</ion-badge>
          <!-- </ion-card-header> -->
          <!-- <ion-card-content *ngIf="activity.subActivities.length>0">
         
        </ion-card-content> -->

        </ion-item>
      </ion-content>
    </ion-col>
    <ion-col class="sub-acts-container">
      <ion-content>
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-card *ngFor="let subAct of currentAct.subActDone" [style.borderRightColor]="getSubActColor(subAct)" class="sub-activity"
                padding (touchstart)="onmouseover(subAct)" (mouseenter)="onmouseover(subAct)" (mouseleave)="onmouseout(subAct)">
                <span>{{subAct["ACTDES"]}}</span>
                <ion-note>{{subAct["WBS"]}}</ion-note>
                <activity-options [activity]="subAct"></activity-options>
              </ion-card>
            </ion-col>
            <ion-col>
              <ion-card *ngFor="let subAct of currentAct.subActQA" [style.borderRightColor]="getSubActColor(subAct)" class="sub-activity"
                padding (touchstart)="onmouseover(subAct)" (mouseenter)="onmouseover(subAct)" (mouseleave)="onmouseout(subAct)">
                <span>{{subAct["ACTDES"]}}</span>
                <ion-note>{{subAct["WBS"]}}</ion-note>
                <activity-options [activity]="subAct"></activity-options>
              </ion-card>
            </ion-col>
            <ion-col>
              <ion-card *ngFor="let subAct of currentAct.subActOther" [style.borderRightColor]="getSubActColor(subAct)" class="sub-activity"
                padding (touchstart)="onmouseover(subAct)" (mouseenter)="onmouseover(subAct)" (mouseleave)="onmouseout(subAct)">
                <span>{{subAct["ACTDES"]}}</span>
                <ion-note>{{subAct["WBS"]}}</ion-note>
                <activity-options [activity]="subAct"></activity-options>
              </ion-card>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-content>
    </ion-col>

  </ion-row>

</ion-content>