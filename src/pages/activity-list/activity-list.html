<!--
  Generated template for the ActivityList page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header no-border>
  <ion-searchbar (ionInput)="getActsBySearch($event)"></ion-searchbar>
</ion-header>
<ion-content padding>
  <ion-spinner name="dots" *ngIf="isLoadingActs"></ion-spinner>
  <div class="activity-container" [ngClass]="{'activity-container-narrow':activities.length<4}">
    <div *ngFor="let activity of activities" [ngClass]="{'title-activity':activity.LEVEL=='3'}">
      <ion-card-header>
        {{activity["ACTDES"]}}
        <ion-note>{{activity["WBS"]}}</ion-note>
      </ion-card-header>
      <ion-card-content *ngIf="activity.subActivities.length>0">
        <ion-card *ngFor="let subAct of activity.subActivities" [style.borderColor]="getSubActColor(subAct)" class="sub-activity"
          padding (touchstart)="onmouseover(subAct)" (mouseenter)="onmouseover(subAct)" (mouseleave)="onmouseout(subAct)">
          <span>{{subAct["ACTDES"]}}</span>
          <ion-note>{{subAct["WBS"]}}</ion-note>
          <activity-options [activity]="subAct" *ngIf="subAct.showOpts"></activity-options>
        </ion-card>
      </ion-card-content>

    </div>
  </div>

</ion-content>