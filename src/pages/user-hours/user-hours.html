<!--
  Generated template for the UserHours page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
  <ion-toolbar color="prettylight" no-padding>
    <ion-segment [(ngModel)]="selectedSegment" (ionChange)="onSegmentChanged($event)" dir="rtl" color="darkblue">
      <ion-segment-button value="todayReports">
        היום
      </ion-segment-button>
      <ion-segment-button value="myTasks">
        הפעילויות שלי
      </ion-segment-button>
    </ion-segment>
    <h5 text-center no-margin>{{currentDate}}</h5>
  </ion-toolbar>
</ion-header>

<ion-content color="dark">
  <ion-spinner name="dots" *ngIf="isShowSpinner" text-center></ion-spinner>
  <ion-list *ngIf="isShowTodayReports" class="todays-reports-list">
    <ion-label text-center *ngIf="hoursList && hoursList.length<=0">לא קיימים דווחים להיום</ion-label>
    <ion-item *ngFor="let time of hoursList" padding-right>
      <ion-note>{{"פעילות"+" "+time['PROJACTA']}} </ion-note>
      <h3>{{time['ACTDES']}}</h3>
      <p>{{time.STIMEI+" - "+time.ETIMEI}}</p>
      <button ion-button *ngIf="time.isActive" class="activity-play" clear (click)="endReport(time)">
              <ion-icon name="ios-pause-outline" color="crimson"></ion-icon>
        </button>
      <button ion-button *ngIf="!time.isActive" class="activity-play" clear (click)="startReport(time)">
              <ion-icon name="ios-play-outline" color="secondary"></ion-icon>
        </button>
      <!--<p>{{time['CURDATE']}}</p>-->
      <!--<p style="text-align:center" *ngIf="task.isActive">
      <strong>{{activeHours+":"+activeMinutes+":"+activeSeconds}}</strong>
      <button ion-button round [style.backgroundColor]="activeIconColor" (click)="toggleTask()">
                  <ion-icon name="{{activeIconName}}"></ion-icon>
              </button>
    </p>-->

    </ion-item>
  </ion-list>
  <ion-list *ngIf="!isShowTodayReports" class="todo-list">
    <ion-item *ngFor="let item of myTasks" padding-right>
      <ion-note>{{item['DOCDES'] +" "+item['TODOREF']}} </ion-note>
      <ion-row>
        <ion-col col-10>
          <h3 padding-bottom>{{item['DETAILS']}} </h3>
        </ion-col>
        <ion-col col-2 >
          <button ion-button clear class="activity-play" (click)="startReport(item)" no-padding>
              <ion-icon name="ios-play-outline" color="secondary"></ion-icon>
        </button>
        </ion-col>
      </ion-row>



    </ion-item>
  </ion-list>
</ion-content>